buildscript {
    ext.kotlin_version = '1.3.50'


    ext.buildConfig = [
            'applicationId': "ie.dublinmapper",
            'minSdk'       : 23,
            'targetSdk'    : 28,
            'compileSdk'   : 28,
            'version'      : [
                    'major'  : 1,
                    'minor'  : 0,
                    'patch'  : 0,
                    'release': false
            ],
    ]

    if (ext.buildConfig.version.release) {
        ext.buildConfig.version['name'] = "${buildConfig.version.major}.${buildConfig.version.minor}.${buildConfig.version.patch}"
    } else {
        ext.buildConfig.version['name'] = "${buildConfig.version.major}.${buildConfig.version.minor}.${buildConfig.version.patch}-SNAPSHOT"
    }
    ext.buildConfig.version['code'] = buildConfig.version.major * 100000 + buildConfig.version.minor * 1000 + buildConfig.version.patch * 10

    ext.versions = [
            'androidx'                  : [
                    'appcompat'       : '1.1.0', // https://mvnrepository.com/artifact/androidx.appcompat/appcompat
                    'core_ktx'        : '1.1.0',
                    'constraintlayout': '1.1.3', // https://mvnrepository.com/artifact/androidx.constraintlayout/constraintlayout
                    'recyclerview'    : '1.0.0', // https://mvnrepository.com/artifact/androidx.recyclerview/recyclerview

            ],
            'android_map_utils'         : '0.5',       // https://mvnrepository.com/artifact/com.google.maps.android/android-maps-utils
            'android_reactive_location2': '2.1',       // https://mvnrepository.com/artifact/pl.charmas.android/android-reactive-location2
            'adapter_rxjava2'           : '2.5.0',     // https://mvnrepository.com/artifact/com.squareup.retrofit2/adapter-rxjava2
            'material'                  : '1.1.0-alpha06',     // https://mvnrepository.com/artifact/com.google.android.material/material
            'conductor'                 : '3.0.0-rc1', // https://mvnrepository.com/artifact/com.bluelinelabs/conductor
            'mvp_conductor'             : '3.1.0',     // https://mvnrepository.com/artifact/com.hannesdorfmann.mosby3/mvp-conductor
            'crashlytics'               : '2.10.1',
            'converter_gson'            : '2.5.0',     // https://mvnrepository.com/artifact/com.squareup.retrofit2/converter-gson
            'converter_simplexml'       : '2.5.0',     // https://mvnrepository.com/artifact/com.squareup.retrofit2/converter-simplexml
            'dagger'                    : '2.24',    // https://mvnrepository.com/artifact/com.google.dagger/dagger //TODO change versions back
            'dagger_compiler'           : '2.24',    // https://mvnrepository.com/artifact/com.google.dagger/dagger-compiler
            'fabric'                    : '1.29.0',    // TODO
            'firebase_core'             : '17.0.0',
            'google_services'           : '4.2.0',
            'gradle'                    : '3.4.1',     // https://mvnrepository.com/artifact/com.android.tools.build/gradle?repo=google
            'groupie'                   : '2.3.0',     // https://mvnrepository.com/artifact/com.xwray/groupie?repo=jcenter
            'gson'                      : '2.8.5',     // https://mvnrepository.com/artifact/com.google.code.gson/gson
            'jsoup'                     : '1.11.3',    // https://mvnrepository.com/artifact/org.jsoup/jsoup
            'kotlin'                    : '1.3.21',    // https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-stdlib-jdk8
            'logging_interceptor'       : '3.12.1',    // https://mvnrepository.com/artifact/com.squareup.okhttp3/logging-interceptor
//            'okhttp'                    : '3.14.2',
            'orika_core'                : '1.5.4',     // https://mvnrepository.com/artifact/ma.glasnost.orika/orika-core
            'retrofit'                  : '2.5.0',     // https://mvnrepository.com/artifact/com.squareup.retrofit2/retrofit
            'rhino'                     : '1.0',       // https://mvnrepository.com/artifact/io.apisense/rhino-android
            'roxie'                     : '0.4.0',     // https://mvnrepository.com/artifact/com.ww/roxie
            'rtpi_client'               : '1-SNAPSHOT',
            'rx_android'                : '2.1.1',     // https://mvnrepository.com/artifact/io.reactivex.rxjava2/rxandroid
            'rx_java'                   : '2.2.8',     // https://mvnrepository.com/artifact/io.reactivex.rxjava2/rxkotlin
            'rx_kotlin'                 : '2.4.0',
            'slf4j_api'                 : '1.7.26',    // https://mvnrepository.com/artifact/org.slf4j/slf4j-api
            'slf4j_timber'              : '1.0.1',     // https://mvnrepository.com/artifact/at.favre.lib/slf4j-timber
            'store3'                    : '3.1.1',     // https://mvnrepository.com/artifact/com.nytimes.android/store3
            'threetenabp'               : '1.2.1',     // https://mvnrepository.com/artifact/com.jakewharton.threetenabp/threetenabp
            'timber'                    : '4.7.1',     // https://mvnrepository.com/artifact/com.jakewharton.timber/timber
            'tweet_ui'                  : '3.3.0'      // https://mvnrepository.com/artifact/com.twitter.sdk.android/tweet-ui
    ]

    ext.testVersions = [
            'androidx'  : [
                    'core'        : '1.1.0', // https://mvnrepository.com/artifact/androidx.test/core
                    'junit'       : '1.1.0', // https://mvnrepository.com/artifact/androidx.test.ext/junit
                    'rules'       : '1.1.1', // https://mvnrepository.com/artifact/androidx.test/rules
                    'runner'      : '1.1.1'  // https://mvnrepository.com/artifact/androidx.test/runner?repo=google
            ],
            //'espresso_core' : '3.0.2', // https://mvnrepository.com/artifact/com.android.support.test.espresso/espresso-core
            'junit'     : '4.12',  // https://mvnrepository.com/artifact/junit/junit
            'threetenbp': '1.3.8', //
            'truth'     : '0.42'   // https://mvnrepository.com/artifact/com.google.truth/truth
    ]

    ext.libraries = [
            'androidx'       : [
                    'constraintlayout': "androidx.constraintlayout:constraintlayout:${versions.androidx.constraintlayout}"
            ],
            'dagger'         : "com.google.dagger:dagger-android:${versions.dagger}",
            'dagger_compiler': "com.google.dagger:dagger-compiler:${versions.dagger_compiler}",
            'kotlin'         : "org.jetbrains.kotlin:kotlin-stdlib-jdk8:${versions.kotlin}",
            'roxie'          : "com.ww:roxie:${versions.roxie}",
            'rtpi_client'    : "io.rtpi:rtpi-client-android-v1:${versions.rtpi_client}",
            'rx_android'     : "io.reactivex.rxjava2:rxandroid:${versions.rx_android}",
            'rx_java'        : "io.reactivex.rxjava2:rxjava:${versions.rx_java}",
            'rx_kotlin'      : "io.reactivex.rxjava2:rxkotlin:${versions.rx_kotlin}",
            'slf4j_api'      : "org.slf4j:slf4j-api:${versions.slf4j_api}",
            'slf4j_timber'   : "at.favre.lib:slf4j-timber:${versions.slf4j_timber}",
            'threetenabp'    : "com.jakewharton.threetenabp:threetenabp:${versions.threetenabp}"
    ]

    ext.testLibraries = [
            'junit': "junit:junit:${testVersions.junit}",
            'truth': "com.google.truth:truth:${testVersions.truth}"
    ]

    repositories {
        mavenLocal()
        google()
        jcenter()
        maven { url 'https://maven.fabric.io/public' }
    }

    dependencies {
        classpath "com.android.tools.build:gradle:${versions.gradle}"
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:${versions.kotlin}"
        classpath "com.google.gms:google-services:${versions.google_services}"
        classpath "io.fabric.tools:gradle:${versions.fabric}"
        classpath "android.arch.navigation:navigation-safe-args-gradle-plugin:1.0.0"
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
        classpath "com.squareup.sqldelight:gradle-plugin:1.2.0"
    }


}

allprojects {

    repositories {
        mavenLocal()
        google()
        jcenter()
        maven {
            url 'https://maven.google.com/'
        }
//        maven { url "https://jitpack.io" }
    }

}

task clean(type: Delete) {
    delete rootProject.buildDir
}
